language: node_js
node_js: 10

install:
  - npm install -g roblox-ts
  - sudo apt install cargo -y
  - cargo install rojo --version 0.5.0-alpha.11

script:
  - npm install
  - rbxtsc
  - rojo build -o bundle.rbxmx

deploy:
  provider: releases
  api_key: "$GITHUB_API_KEY"
  file: "bundle.rbxmx"
  skip_cleanup: true